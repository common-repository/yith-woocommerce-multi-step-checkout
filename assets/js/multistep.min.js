!function(r){var e=r("body"),t=r(yith_wcms.dom.login),i=r(yith_wcms.dom.billing),n=r(yith_wcms.dom.shipping),s=r(yith_wcms.dom.order),o=r(yith_wcms.dom.payment),h=r(yith_wcms.dom.form_actions),y=r(yith_wcms.dom.coupon),l={login:t,billing:i,shipping:n,order:s,payment:o};e.on("updated_checkout yith_wcms_myaccount_order_pay",function(t){"updated_checkout"==t.type&&(l.payment=r(yith_wcms.dom.payment)),"payment"==h.data("step")&&r(yith_wcms.dom.payment).show(),e.trigger("yith_wcms_updated_checkout")}),e.hasClass("woocommerce-order-pay")&&e.trigger("yith_wcms_myaccount_order_pay"),e.on("yith_wcms_select2",function(t){var i;r().select2&&((i=function(){r("select.country_select, select.state_select").each(function(){var t={placeholder:r(this).attr("placeholder"),placeholderOption:"first",width:"100%"};r(this).select2(t)})})(),e.bind("country_to_state_changed",function(){i()}))}),1!=yith_wcms.wc_shipping_multiple&&e.trigger("yith_wcms_select2"),h.find(yith_wcms.dom.button_prev).add(yith_wcms.dom.button_next).on("click",function(t){var i,e=r(this),n=h.data("step"),s=(i=n,yith_wcms.steps_timeline[i]),i=s.next,s=s.prev;a(e,n,i,s)});var a=function(t,i,e,n){var s=r(yith_wcms.dom.checkout_timeline),o=t.data("action"),a=h.find(yith_wcms.dom.button_prev),c=h.find(yith_wcms.dom.button_next),t=(s.find(".active").data("step"),r(yith_wcms.dom.checkout_form));"prev"==o&&c.removeClass("disabled").removeAttr("disabled");var d=function(t){"order"==t||r(document).triggerHandler("yith_wmcs_show_coupon",t)?y.fadeIn(yith_wcms.transition_duration):y.fadeOut(yith_wcms.transition_duration)};s.find(".active").removeClass("active"),"next"==o?(h.data("step",e),_=r(yith_wcms.dom.timeline_id_prefix+e),l[i].fadeOut(yith_wcms.transition_duration,function(){l[e].fadeIn(yith_wcms.transition_duration),d(e)}),_.toggleClass("active")):"prev"==o&&(m=r(yith_wcms.dom.timeline_id_prefix+n),h.data("step",n),l[i].fadeOut(yith_wcms.transition_duration,function(){l[n].fadeIn(yith_wcms.transition_duration)}),d(n),m.toggleClass("active")),i=h.data("step");var _=r(yith_wcms.dom.checkout_timeline),m=_.find("li.active").index(),m=_.find("li").filter(":lt("+m+")").filter(":not(.active)");_.find("li.done").removeClass("done"),m.addClass("done");_=!1,m=!1;"next"==o&&!1===yith_wcms.steps_timeline[e][o]&&(m=!0),"prev"==o&&!1===yith_wcms.steps_timeline[n][o]&&(_=!0),!0===_?a.fadeOut(yith_wcms.transition_duration):a.fadeIn(yith_wcms.transition_duration).css("display","inline-block"),!0===m?c.fadeOut(yith_wcms.transition_duration):c.fadeIn(yith_wcms.transition_duration).css("display","inline-block"),"payment"==i?(t.removeClass("processing"),"yes"==yith_wcms.disabled_prev_button&&a.fadeOut(yith_wcms.transition_duration)):t.addClass("processing")}}(jQuery);